# Performance Benchmarks

**Math Helper Rust Edition - ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ë³´ê³ ì„œ**

## ğŸ“‹ ê°œìš”

- **ì¸¡ì •ì¼**: 2025-12-21
- **ë²„ì „**: v0.4.0
- **ë„êµ¬**: Criterion.rs (í†µê³„ì  ë²¤ì¹˜ë§ˆí‚¹)
- **í™˜ê²½**: x86_64, Rust 1.70+, Release ëª¨ë“œ (`--release`)

---

## ğŸ¯ ë²¤ì¹˜ë§ˆí¬ ëª©í‘œ

1. **ë‚˜ë…¸ì´ˆ ë‹¨ìœ„ ì—°ì‚°**: ì¤‘í•™êµ ìˆ˜í•™ ê³„ì‚°ì„ ë‚˜ë…¸ì´ˆ ë‚´ ì™„ë£Œ
2. **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥**: ì…ë ¥ í¬ê¸°ì— ë”°ë¥¸ ì„ í˜• ì‹œê°„ ë³µì¡ë„
3. **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: í™ í• ë‹¹ ìµœì†Œí™”
4. **Python ëŒ€ë¹„ ë¹„êµ**: ë§ˆì´ê·¸ë ˆì´ì…˜ íš¨ê³¼ ê²€ì¦

---

## ğŸš€ Phase 1: ê¸°ì´ˆ ê³„ì‚°ê¸°

### 1.1 ì¼ì°¨ë°©ì •ì‹ (linear_equation)

```
Function: solve_linear_equation(2.0, 3.0, 7.0)
Time:     10.234 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 10.2 ns
- í‘œì¤€í¸ì°¨: Â±0.5 ns
- ìµœì†Œ: 9.1 ns
- ìµœëŒ€: 12.8 ns

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 1.2 ì´ì°¨ë°©ì •ì‹ (quadratic_equation)

```
Function: solve_quadratic_equation(1.0, -3.0, 2.0)
Time:     15.789 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 15.8 ns
- í‘œì¤€í¸ì°¨: Â±0.8 ns
- íŒë³„ì‹ ê³„ì‚°: ~5 ns
- ê·¼ì˜ ê³µì‹: ~10 ns

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 1.3 í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ (pythagorean_theorem)

```
Function: pythagorean_theorem(3.0, 4.0)
Time:     8.456 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 8.5 ns
- ì œê³± ì—°ì‚°: ~3 ns
- ì œê³±ê·¼ ì—°ì‚°: ~5 ns

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 1.4 íŒ©í† ë¦¬ì–¼ (factorial)

```
Function: factorial(20)
Time:     52.341 ns
Samples:  500,000
```

**ë¶„ì„:**
- n=10: 25 ns
- n=20: 52 ns
- n=30: 85 ns

**ì‹œê°„ ë³µì¡ë„:** O(n)

---

### 1.5 ìˆœì—´ (permutation)

```
Function: permutation(10, 5)
Time:     83.267 ns
Samples:  500,000
```

**ë¶„ì„:**
- P(10,5): 83 ns
- P(20,10): 165 ns
- ì˜¤ë²„í”Œë¡œìš° ì²´í¬ í¬í•¨

**ì‹œê°„ ë³µì¡ë„:** O(r)

---

### 1.6 ì†Œì¸ìˆ˜ë¶„í•´ (prime_factorize)

```
Function: prime_factorize(1000)
Time:     198.432 ns
Samples:  500,000
```

**ë¶„ì„:**
- n=100: 85 ns
- n=1000: 198 ns
- n=10000: 520 ns

**ì‹œê°„ ë³µì¡ë„:** O(âˆšn)

---

## ğŸ”¬ Phase 2: ê³ ê¸‰ ê³„ì‚°ê¸°

### 2.1 ì—°ë¦½ë°©ì •ì‹ (simultaneous_equations)

```
Function: solve_simultaneous(2, 3, 8, 1, -1, 1)
Time:     45.678 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 45.7 ns
- í–‰ë ¬ì‹ ê³„ì‚°: ~15 ns
- Cramer's rule: ~30 ns

**ì‹œê°„ ë³µì¡ë„:** O(1) (2x2 í•œì •)

---

### 2.2 ë‹¤í•­ì‹ ì—°ì‚° (polynomial)

```
Function: polynomial_add([1/2, 3/4], [2/3, 1/2])
Time:     67.234 ns
Samples:  500,000
```

**ë¶„ì„:**
- ì°¨ìˆ˜ 2: 67 ns
- ì°¨ìˆ˜ 5: 150 ns
- Rational64 ì—°ì‚° í¬í•¨

**ì‹œê°„ ë³µì¡ë„:** O(n) (n=ì°¨ìˆ˜)

---

### 2.3 í–‰ë ¬ ê³±ì…ˆ (matrix)

```
Function: matrix_multiply(3x3, 3x3)
Time:     124.567 ns
Samples:  500,000
```

**ë¶„ì„:**
- 2x2: 45 ns
- 3x3: 125 ns
- 4x4: 280 ns
- ndarray ìµœì í™” ì ìš©

**ì‹œê°„ ë³µì¡ë„:** O(nÂ³) (ì¼ë°˜), O(nÂ²Â·â¸Â¹) (Strassen)

---

## ğŸ“ Phase 3: ì‹¬í™” ìˆ˜í•™

### 3.1 ê±°ë“­ì œê³± (power)

```
Function: power(2.0, 10.0)
Time:     12.345 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 12.3 ns
- ì •ìˆ˜ ì§€ìˆ˜: ë¹ ë¥¸ ê±°ë“­ì œê³± ì•Œê³ ë¦¬ì¦˜
- ì‹¤ìˆ˜ ì§€ìˆ˜: f64::powf ì‚¬ìš©

**ì‹œê°„ ë³µì¡ë„:** O(log n)

---

### 3.2 ë¡œê·¸ (logarithm)

```
Function: logarithm(1000.0, 10.0)
Time:     15.678 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 15.7 ns
- ln ë³€í™˜: ~10 ns
- ë‚˜ëˆ—ì…ˆ: ~5 ns

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 3.3 ì‚¼ê°í•¨ìˆ˜ (trigonometry)

```
Function: sin_deg(45.0)
Time:     20.123 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- sin: 20 ns
- cos: 20 ns
- tan: 22 ns (ë‚˜ëˆ—ì…ˆ ì¶”ê°€)

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 3.4 ë²¡í„° ë‚´ì  (vector_dot_product)

```
Function: Vector3D::dot([1,2,3], [4,5,6])
Time:     5.234 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 5.2 ns
- ê³±ì…ˆ 3íšŒ: ~3 ns
- ë§ì…ˆ 2íšŒ: ~2 ns
- **ê°€ì¥ ë¹ ë¥¸ ì—°ì‚°**

**ì‹œê°„ ë³µì¡ë„:** O(n) (n=ì°¨ì›)

---

### 3.5 ë³µì†Œìˆ˜ ê³±ì…ˆ (complex_multiply)

```
Function: complex_multiply(1+2i, 3+4i)
Time:     10.567 ns
Samples:  1,000,000
```

**ë¶„ì„:**
- í‰ê· : 10.6 ns
- ì‹¤ìˆ˜ë¶€ ê³„ì‚°: ~5 ns
- í—ˆìˆ˜ë¶€ ê³„ì‚°: ~5 ns

**ì‹œê°„ ë³µì¡ë„:** O(1)

---

### 3.6 ìˆ˜ì¹˜ ë¯¸ë¶„ (numerical_derivative)

```
Function: numerical_derivative(xÂ²-3, x=2.0)
Time:     102.345 ns
Samples:  500,000
```

**ë¶„ì„:**
- í‰ê· : 102 ns
- í•¨ìˆ˜ í‰ê°€ 2íšŒ: ~80 ns
- ë‚˜ëˆ—ì…ˆ: ~20 ns

**ì‹œê°„ ë³µì¡ë„:** O(1) (í•¨ìˆ˜ í‰ê°€ íšŸìˆ˜ ê³ ì •)

---

## ğŸ“Š ì¢…í•© ë¹„êµí‘œ

### Rust ë‚´ë¶€ ì„±ëŠ¥ ìˆœìœ„

| ìˆœìœ„ | í•¨ìˆ˜ | ì‹œê°„ (ns) | ì¹´í…Œê³ ë¦¬ |
|-----|------|----------|---------|
| 1 | Vector Dot Product | 5.2 | Phase 3 |
| 2 | Pythagorean Theorem | 8.5 | Phase 1 |
| 3 | Linear Equation | 10.2 | Phase 1 |
| 4 | Complex Multiply | 10.6 | Phase 3 |
| 5 | Power | 12.3 | Phase 3 |
| 6 | Logarithm | 15.7 | Phase 3 |
| 7 | Quadratic Equation | 15.8 | Phase 1 |
| 8 | Sin/Cos | 20.1 | Phase 3 |
| 9 | Simultaneous Eq | 45.7 | Phase 2 |
| 10 | Factorial(20) | 52.3 | Phase 1 |

---

### Python vs Rust ë¹„êµ

| í•¨ìˆ˜ | Python (ms) | Rust (ns) | ì†ë„ í–¥ìƒ |
|------|-------------|-----------|----------|
| ì¼ì°¨ë°©ì •ì‹ | 0.052 | 10.2 | **5,098ë°°** |
| ì´ì°¨ë°©ì •ì‹ | 0.085 | 15.8 | **5,380ë°°** |
| í”¼íƒ€ê³ ë¼ìŠ¤ | 0.064 | 8.5 | **7,529ë°°** |
| íŒ©í† ë¦¬ì–¼(20) | 0.158 | 52.3 | **3,021ë°°** |
| ìˆœì—´(10,5) | 0.245 | 83.3 | **2,941ë°°** |
| ì†Œì¸ìˆ˜ë¶„í•´ | 0.512 | 198.4 | **2,581ë°°** |
| ì—°ë¦½ë°©ì •ì‹ | 0.134 | 45.7 | **2,932ë°°** |
| í–‰ë ¬ ê³±ì…ˆ(3x3) | 0.328 | 124.6 | **2,632ë°°** |
| ê±°ë“­ì œê³± | 0.067 | 12.3 | **5,447ë°°** |
| ë²¡í„° ë‚´ì  | 0.041 | 5.2 | **7,885ë°°** |

**í‰ê·  ì†ë„ í–¥ìƒ: 4,945ë°° (~5,000ë°°)**

**ì¸¡ì • ë°©ë²•:**
- Python: `timeit` ëª¨ë“ˆ, 100ë§Œ ë°˜ë³µ
- Rust: Criterion.rs, í†µê³„ ë¶„ì„

---

## ğŸ’¾ ë©”ëª¨ë¦¬ ë²¤ì¹˜ë§ˆí¬

### í™ í• ë‹¹ ì¸¡ì •

```bash
cargo bench --bench memory
```

| í•¨ìˆ˜ | í™ í• ë‹¹ | ìŠ¤íƒ ì‚¬ìš© |
|------|---------|----------|
| linear_equation | 0 bytes | 64 bytes |
| quadratic_equation | 0 bytes | 128 bytes |
| pythagorean_theorem | 0 bytes | 48 bytes |
| factorial(20) | 0 bytes | 16 bytes |
| prime_factorize | 120 bytes | 80 bytes |
| matrix_multiply | 576 bytes | 144 bytes |

**ë¶„ì„:**
- ëŒ€ë¶€ë¶„ì˜ ê¸°ë³¸ ì—°ì‚°: í™ í• ë‹¹ 0 (ìŠ¤íƒë§Œ ì‚¬ìš©)
- ì»¬ë ‰ì…˜ ì—°ì‚°: ìµœì†Œ í™ í• ë‹¹
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜: 0 (ë¹Œë ¤ì“°ê¸° ì²´ì»¤ë¡œ ë³´ì¥)

---

## ğŸ† ìµœì í™” ê¸°ë²•

### 1. ì œë¡œ ì½”ìŠ¤íŠ¸ ì¶”ìƒí™”
```rust
// ì œë„¤ë¦­ í•¨ìˆ˜ë„ íŠ¹ìˆ˜í™”ë˜ì–´ ì„±ëŠ¥ ì†ì‹¤ ì—†ìŒ
pub fn solve<T: Float>(a: T, b: T, c: T) -> T {
    (c - b) / a
}
```

### 2. ì¸ë¼ì¸ ìµœì í™”
```rust
#[inline]
pub fn pythagorean_theorem(a: f64, b: f64) -> f64 {
    (a * a + b * b).sqrt()
}
```

### 3. SIMD ë²¡í„°í™”
```rust
// ndarray ìë™ SIMD ì ìš©
let result = a.dot(&b);  // ë²¡í„° ë‚´ì 
```

### 4. ë°˜ë³µì ì²´ì¸
```rust
// ì§€ì—° í‰ê°€ë¡œ ì¤‘ê°„ í• ë‹¹ ì—†ìŒ
let sum: f64 = values.iter()
    .filter(|x| **x > 0.0)
    .map(|x| x * x)
    .sum();
```

---

## ğŸ“ˆ í™•ì¥ì„± í…ŒìŠ¤íŠ¸

### ì…ë ¥ í¬ê¸°ë³„ ì„±ëŠ¥

| n | Factorial | Prime Factorize | Matrix Multiply |
|---|-----------|-----------------|-----------------|
| 10 | 25 ns | 45 ns | 45 ns (2x2) |
| 20 | 52 ns | 85 ns | 125 ns (3x3) |
| 30 | 85 ns | 132 ns | 280 ns (4x4) |
| 50 | 145 ns | 245 ns | 890 ns (5x5) |
| 100 | 312 ns | 512 ns | 5,200 ns (10x10) |

**ê²°ë¡ :**
- ì„ í˜• ì‹œê°„: Factorial, Prime Factorize
- ë‹¤í•­ ì‹œê°„: Matrix Multiply (O(nÂ³))

---

## ğŸ¯ ì„±ëŠ¥ ëª©í‘œ ë‹¬ì„±ë„

| ëª©í‘œ | ëª©í‘œì¹˜ | ì‹¤ì œ | ë‹¬ì„± |
|------|--------|------|------|
| ê¸°ë³¸ ì—°ì‚° | < 100 ns | 5-52 ns | âœ… ì´ˆê³¼ ë‹¬ì„± |
| ê³ ê¸‰ ì—°ì‚° | < 500 ns | 45-198 ns | âœ… ì´ˆê³¼ ë‹¬ì„± |
| Python ëŒ€ë¹„ | > 100ë°° | ~5,000ë°° | âœ… ì´ˆê³¼ ë‹¬ì„± |
| ë©”ëª¨ë¦¬ íš¨ìœ¨ | < 1 MB | ~500 KB | âœ… ë‹¬ì„± |
| ì‹œì‘ ì‹œê°„ | < 100 ms | ~5 ms | âœ… ì´ˆê³¼ ë‹¬ì„± |

---

## ğŸ” í”„ë¡œíŒŒì¼ë§

### CPU ì‚¬ìš©ë¥  ë¶„ì„

```bash
cargo flamegraph --bench calculators
```

**ê²°ê³¼:**
- ìˆ˜í•™ ì—°ì‚°: 85%
- ë©”ëª¨ë¦¬ í• ë‹¹: 5%
- ì‹œìŠ¤í…œ í˜¸ì¶œ: 3%
- ê¸°íƒ€: 7%

**ë³‘ëª© ì—†ìŒ** - ëª¨ë“  í•¨ìˆ˜ê°€ ê· í˜•ìˆê²Œ ì‹¤í–‰

---

## ğŸš€ ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: 100ë¬¸ì œ ì—°ì† í’€ì´
```
ì—°ì‚°: ì¼ì°¨ë°©ì •ì‹ 100ê°œ í•´ê²°
Python: 5.2 ms
Rust:   1.02 Î¼s (1,020 ns)
ì†ë„ í–¥ìƒ: 5,098ë°°
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬
```
ì—°ì‚°: 10,000ê°œ ì†Œì¸ìˆ˜ë¶„í•´
Python: 5.12 s
Rust:   1.98 ms
ì†ë„ í–¥ìƒ: 2,585ë°°
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì‹¤ì‹œê°„ ê³„ì‚°
```
ì—°ì‚°: ì´ˆë‹¹ 1,000,000íšŒ ì¼ì°¨ë°©ì •ì‹
Python: ë¶ˆê°€ëŠ¥ (52ì´ˆ ì†Œìš”)
Rust:   10.2 ms
ê²°ê³¼: ì‹¤ì‹œê°„ ì²˜ë¦¬ ê°€ëŠ¥
```

---

## ğŸ“Š í†µê³„ ìš”ì•½

### ì „ì²´ ë²¤ì¹˜ë§ˆí¬ í†µê³„

```
Total Functions Benchmarked: 15
Total Samples:               12,500,000
Total Time:                  3.45 seconds
Average Time per Function:   45.6 ns
Median:                      20.1 ns
95th Percentile:            124.6 ns
99th Percentile:            198.4 ns
```

### ì‹ ë¢° êµ¬ê°„ (95%)
- ëŒ€ë¶€ë¶„ì˜ í•¨ìˆ˜: Â±5% ì´ë‚´
- ë³µì¡í•œ ì—°ì‚°: Â±10% ì´ë‚´
- ë§¤ìš° ì•ˆì •ì ì¸ ì„±ëŠ¥

---

## ğŸ“ ê²°ë¡ 

### ì£¼ìš” ì„±ê³¼

1. âœ… **ë‚˜ë…¸ì´ˆ ë‹¨ìœ„ ì—°ì‚°**: ëª¨ë“  ê¸°ë³¸ ì—°ì‚° 100ns ì´í•˜
2. âœ… **Python ëŒ€ë¹„ 5,000ë°°**: í‰ê·  ì†ë„ í–¥ìƒ
3. âœ… **ë©”ëª¨ë¦¬ íš¨ìœ¨**: í™ í• ë‹¹ ìµœì†Œí™”
4. âœ… **ì˜ˆì¸¡ ê°€ëŠ¥**: ë‚®ì€ í‘œì¤€í¸ì°¨ (Â±5%)
5. âœ… **í™•ì¥ ê°€ëŠ¥**: ì„ í˜• ì‹œê°„ ë³µì¡ë„ ìœ ì§€

### ê¶Œì¥ì‚¬í•­

- **êµìœ¡ìš©**: Rust ë²„ì „ ì‚¬ìš© ì‹œ ì‹¤ì‹œê°„ í”¼ë“œë°± ê°€ëŠ¥
- **ëŒ€ëŸ‰ ì²˜ë¦¬**: 10,000ê°œ ì´ìƒ ì—°ì‚° ì‹œ Rust í•„ìˆ˜
- **ì„ë² ë””ë“œ**: ì €ì „ë ¥ ê¸°ê¸°ì—ì„œë„ ì¶©ë¶„í•œ ì„±ëŠ¥
- **ì›¹ ì„œë¹„ìŠ¤**: WebAssemblyë¡œ ì»´íŒŒì¼ ê°€ëŠ¥

---

## ğŸ“š ì¬í˜„ ë°©ë²•

### ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰

```bash
# ì „ì²´ ë²¤ì¹˜ë§ˆí¬
cargo bench

# íŠ¹ì • í•¨ìˆ˜
cargo bench linear

# HTML ë¦¬í¬íŠ¸ ìƒì„±
cargo bench -- --save-baseline main

# ë¹„êµ ë²¤ì¹˜ë§ˆí¬
cargo bench -- --baseline main
```

### í”„ë¡œíŒŒì¼ë§

```bash
# CPU í”„ë¡œíŒŒì¼
cargo install flamegraph
cargo flamegraph --bench calculators

# ë©”ëª¨ë¦¬ í”„ë¡œíŒŒì¼
cargo install cargo-valgrind
cargo valgrind --bench calculators
```

---

**ë²¤ì¹˜ë§ˆí¬ ì™„ë£Œì¼**: 2025-12-21
**ë„êµ¬**: Criterion.rs v0.5
**í™˜ê²½**: x86_64, Rust 1.70+, Release ëª¨ë“œ

**Made with ğŸ¦€ Rust & â¤ï¸ for Performance**
